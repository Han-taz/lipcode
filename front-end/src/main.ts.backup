// ğŸ”¥ ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
window.addEventListener('error', (e) => {
  console.error('ğŸš¨ ì „ì—­ ì—ëŸ¬:', e);
  document.body.innerHTML += `<div style="background: red; color: white; padding: 20px; margin: 10px;">ğŸš¨ ì „ì—­ ì—ëŸ¬: ${e.message}</div>`;
});

// ğŸ”¥ Promise ì—ëŸ¬ í•¸ë“¤ëŸ¬
window.addEventListener('unhandledrejection', (e) => {
  console.error('ğŸš¨ Promise ì—ëŸ¬:', e);
  document.body.innerHTML += `<div style="background: red; color: white; padding: 20px; margin: 10px;">ğŸš¨ Promise ì—ëŸ¬: ${e.reason}</div>`;
});

console.log('ğŸ”¥ [MAIN] main.ts ì‹œì‘ë¨!')console.log('ğŸ”¥ [MAIN] main.ts ì‹œì‘ë¨!')ventListener('error', (e) => {
  console.error('ğŸš¨ ì „ì—­ ì—ëŸ¬:', e);
  document.body.innerHTML += `<div style="background: red; color: white; padding: 20px; margin: 10px;">ğŸš¨ ì „ì—­ ì—ëŸ¬: ${e.message}</div>`;
});

// ğŸ”¥ Promise ì—ëŸ¬ í•¸ë“¤ëŸ¬
window.addEventListener('unhandledrejection', (e) => {
  console.error('ğŸš¨ Promise ì—ëŸ¬:', e);
  document.body.innerHTML += `<div style="background: red; color: white; padding: 20px; margin: 10px;">ï¿½ Promise ì—ëŸ¬: ${e.reason}</div>`;
});

console.log('ï¿½ğŸ”¥ [MAIN] main.ts ì‹œì‘ë¨!')

// ğŸ”¥ ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
window.addEventListener('error', (e) => {
  console.error('ğŸš¨ ì „ì—­ ì—ëŸ¬:', e);
  document.body.innerHTML += `<div style="background: red; color: white; padding: 20px; margin: 10px;">ğŸš¨ ì „ì—­ ì—ëŸ¬: ${e.message}</div>`;
});

// ğŸ”¥ Promise ì—ëŸ¬ í•¸ë“¤ëŸ¬
window.addEventListener('unhandledrejection', (e) => {
  console.error('ğŸš¨ Promise ì—ëŸ¬:', e);
  document.body.innerHTML += `<div style="background: red; color: white; padding: 20px; margin: 10px;">ğŸš¨ Promise ì—ëŸ¬: ${e.reason}</div>`;
});

console.log('ğŸ”¥ [MAIN] main.ts ì‹œì‘ë¨!')

import { createApp } from 'vue'
import { createPinia } from 'pinia'

import App from './App.vue'
import router from './router'

import './assets/main.css'

try {
  console.log('ğŸ”¥ [MAIN] ëª¨ë“ˆë“¤ ì„í¬íŠ¸ ì™„ë£Œ')

  const app = createApp(App)
  console.log('ğŸ”¥ [MAIN] Vue ì•± ìƒì„± ì™„ë£Œ')

  app.use(createPinia())
  console.log('ğŸ”¥ [MAIN] Pinia ì¶”ê°€ ì™„ë£Œ')

  app.use(router)
  console.log('ğŸ”¥ [MAIN] Router ì¶”ê°€ ì™„ë£Œ')

  console.log('ğŸ”¥ [MAIN] #app ì—˜ë¦¬ë¨¼íŠ¸ì— ë§ˆìš´íŠ¸ ì‹œë„ì¤‘...')
  const appElement = document.getElementById('app')
  if (!appElement) {
    throw new Error('#app ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!')
  }
  
  app.mount('#app')
  console.log('ğŸ”¥ [MAIN] ì•± ë§ˆìš´íŠ¸ ì™„ë£Œ!')
  
  // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
  setTimeout(() => {
    console.log('ğŸ”¥ [MAIN] 3ì´ˆ í›„ ì„±ê³µ í™•ì¸')
    if (appElement.innerHTML.includes('DEBUG: App.vue')) {
      console.log('âœ… [MAIN] App.vueê°€ ì„±ê³µì ìœ¼ë¡œ ë Œë”ë§ë¨!')
    }
  }, 3000);
  
} catch (error: any) {
  console.error('ğŸš¨ [MAIN] ì¹˜ëª…ì  ì—ëŸ¬:', error)
  document.body.innerHTML += `
    <div style="background: red; color: white; padding: 20px; margin: 10px; font-size: 18px;">
      ğŸš¨ ì¹˜ëª…ì  ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤!<br>
      ${error.message}<br>
      ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.
    </div>
  `;
}
